// Sistema de traducciones para MP Global Corp Miniapp
const translations = {
    es: {
        // Header
        'app_title': 'MP Global CorpÂ®',
        'app_tagline': 'Premium Cannabis Products',
        'cart': 'Carrito',
        'menu': 'MenÃº',
        
        // Navigation
        'all_products': 'Todos',
        'moroccan_hash': 'ðŸ‡²ðŸ‡¦ Moroccan',
        'spanish_flower': 'ðŸ‡ªðŸ‡¸ Spanish',
        'cali_flower': 'ðŸ‡ºðŸ‡¸ California',
        'extractions': 'ðŸ”¬ Extractions',
        'varios': 'ðŸ“¦ Varios',
        
        // Product Modal
        'product_details': 'Detalles del Producto',
        'price_options': 'Opciones de Precio',
        'add_to_cart': 'Agregar al Pedido',
        'available': 'Disponible',
        'unavailable': 'No Disponible',
        'description': 'DescripciÃ³n',
        'stock': 'Stock',
        
        // Cart Modal
        'my_order': 'Mi Pedido',
        'cart_empty': 'Tu carrito estÃ¡ vacÃ­o',
        'clear_cart': 'Limpiar',
        'proceed_order': 'Proceder al Pedido',
        'total': 'Total',
        'per_unit': 'c/u',
        'per_100': 'cada 100@',
        'remove_item': 'Eliminar',
        
        // Order Modal
        'order_details': 'Detalles del Pedido',
        'customer_info': 'InformaciÃ³n del Cliente',
        'name': 'Nombre',
        'phone': 'TelÃ©fono',
        'address': 'DirecciÃ³n',
        'comments': 'Comentarios',
        'cancel': 'Cancelar',
        'submit_order': 'Enviar Pedido',
        
        // Success Modal
        'telegram_opened': 'Â¡Chat de Telegram Abierto!',
        'telegram_message': 'Se ha abierto un chat con @grlltdc con los detalles de tu pedido. Completa tu pedido allÃ­ para finalizar la compra.',
        'telegram_note': 'Nota: Si no se abriÃ³ automÃ¡ticamente, busca @grlltdc en Telegram.',
        'close': 'Cerrar',
        
        // Security Modal
        'security_privacy': 'Seguridad y Privacidad',
        'data_security': 'Seguridad de Datos',
        'privacy': 'Privacidad',
        'legal_compliance': 'Cumplimiento Legal',
        'mobile_security': 'Seguridad MÃ³vil',
        'clear_all_data': 'Limpiar Todos los Datos',
        
        // Footer
        'copyright': 'Â© 2025 MP Global Corp. Todos los derechos reservados.',
        'adult_only': 'Productos de cannabis premium para adultos.',
        'security_privacy_link': 'Seguridad y Privacidad',
        
        // Toast Messages
        'product_added': 'Producto agregado al carrito',
        'cart_cleared': 'Carrito limpiado',
        'cart_empty_error': 'Tu carrito estÃ¡ vacÃ­o',
        'telegram_opened_success': 'Â¡Chat de Telegram abierto!',
        'telegram_error': 'Error abriendo chat de Telegram',
        'data_cleared': 'Todos los datos han sido eliminados',
        'data_clear_error': 'Error al eliminar los datos',
        
        // Image Zoom
        'image_zoom': 'Imagen del Producto',
        'zoom_in': 'Acercar',
        'zoom_out': 'Alejar',
        'zoom_reset': 'Restablecer',
        'zoom_rotate': 'Rotar'
    },
    
    en: {
        // Header
        'app_title': 'MP Global CorpÂ®',
        'app_tagline': 'Premium Cannabis Products',
        'cart': 'Cart',
        'menu': 'Menu',
        
        // Navigation
        'all_products': 'All',
        'moroccan_hash': 'ðŸ‡²ðŸ‡¦ Moroccan',
        'spanish_flower': 'ðŸ‡ªðŸ‡¸ Spanish',
        'cali_flower': 'ðŸ‡ºðŸ‡¸ California',
        'extractions': 'ðŸ”¬ Extractions',
        'varios': 'ðŸ“¦ Various',
        
        // Product Modal
        'product_details': 'Product Details',
        'price_options': 'Price Options',
        'add_to_cart': 'Add to Order',
        'available': 'Available',
        'unavailable': 'Unavailable',
        'description': 'Description',
        'stock': 'Stock',
        
        // Cart Modal
        'my_order': 'My Order',
        'cart_empty': 'Your cart is empty',
        'clear_cart': 'Clear',
        'proceed_order': 'Proceed to Order',
        'total': 'Total',
        'per_unit': 'each',
        'per_100': 'per 100@',
        'remove_item': 'Remove',
        
        // Order Modal
        'order_details': 'Order Details',
        'customer_info': 'Customer Information',
        'name': 'Name',
        'phone': 'Phone',
        'address': 'Address',
        'comments': 'Comments',
        'cancel': 'Cancel',
        'submit_order': 'Submit Order',
        
        // Success Modal
        'telegram_opened': 'Telegram Chat Opened!',
        'telegram_message': 'A chat with @grlltdc has been opened with your order details. Complete your order there to finalize the purchase.',
        'telegram_note': 'Note: If it didn\'t open automatically, search for @grlltdc on Telegram.',
        'close': 'Close',
        
        // Security Modal
        'security_privacy': 'Security & Privacy',
        'data_security': 'Data Security',
        'privacy': 'Privacy',
        'legal_compliance': 'Legal Compliance',
        'mobile_security': 'Mobile Security',
        'clear_all_data': 'Clear All Data',
        
        // Footer
        'copyright': 'Â© 2025 MP Global Corp. All rights reserved.',
        'adult_only': 'Premium cannabis products for adults.',
        'security_privacy_link': 'Security & Privacy',
        
        // Toast Messages
        'product_added': 'Product added to cart',
        'cart_cleared': 'Cart cleared',
        'cart_empty_error': 'Your cart is empty',
        'telegram_opened_success': 'Telegram chat opened!',
        'telegram_error': 'Error opening Telegram chat',
        'data_cleared': 'All data has been cleared',
        'data_clear_error': 'Error clearing data',
        
        // Image Zoom
        'image_zoom': 'Product Image',
        'zoom_in': 'Zoom In',
        'zoom_out': 'Zoom Out',
        'zoom_reset': 'Reset',
        'zoom_rotate': 'Rotate'
    },
    
    fr: {
        // Header
        'app_title': 'MP Global CorpÂ®',
        'app_tagline': 'Produits Cannabis Premium',
        'cart': 'Panier',
        'menu': 'Menu',
        
        // Navigation
        'all_products': 'Tous',
        'moroccan_hash': 'ðŸ‡²ðŸ‡¦ Marocain',
        'spanish_flower': 'ðŸ‡ªðŸ‡¸ Espagnol',
        'cali_flower': 'ðŸ‡ºðŸ‡¸ Californie',
        'extractions': 'ðŸ”¬ Extractions',
        'varios': 'ðŸ“¦ Divers',
        
        // Product Modal
        'product_details': 'DÃ©tails du Produit',
        'price_options': 'Options de Prix',
        'add_to_cart': 'Ajouter Ã  la Commande',
        'available': 'Disponible',
        'unavailable': 'Indisponible',
        'description': 'Description',
        'stock': 'Stock',
        
        // Cart Modal
        'my_order': 'Ma Commande',
        'cart_empty': 'Votre panier est vide',
        'clear_cart': 'Vider',
        'proceed_order': 'ProcÃ©der Ã  la Commande',
        'total': 'Total',
        'per_unit': 'piÃ¨ce',
        'per_100': 'par 100@',
        'remove_item': 'Supprimer',
        
        // Order Modal
        'order_details': 'DÃ©tails de la Commande',
        'customer_info': 'Informations Client',
        'name': 'Nom',
        'phone': 'TÃ©lÃ©phone',
        'address': 'Adresse',
        'comments': 'Commentaires',
        'cancel': 'Annuler',
        'submit_order': 'Envoyer la Commande',
        
        // Success Modal
        'telegram_opened': 'Chat Telegram Ouvert!',
        'telegram_message': 'Un chat avec @grlltdc a Ã©tÃ© ouvert avec les dÃ©tails de votre commande. ComplÃ©tez votre commande lÃ -bas pour finaliser l\'achat.',
        'telegram_note': 'Note: Si cela ne s\'est pas ouvert automatiquement, recherchez @grlltdc sur Telegram.',
        'close': 'Fermer',
        
        // Security Modal
        'security_privacy': 'SÃ©curitÃ© et ConfidentialitÃ©',
        'data_security': 'SÃ©curitÃ© des DonnÃ©es',
        'privacy': 'ConfidentialitÃ©',
        'legal_compliance': 'ConformitÃ© LÃ©gale',
        'mobile_security': 'SÃ©curitÃ© Mobile',
        'clear_all_data': 'Effacer Toutes les DonnÃ©es',
        
        // Footer
        'copyright': 'Â© 2025 MP Global Corp. Tous droits rÃ©servÃ©s.',
        'adult_only': 'Produits cannabis premium pour adultes.',
        'security_privacy_link': 'SÃ©curitÃ© et ConfidentialitÃ©',
        
        // Toast Messages
        'product_added': 'Produit ajoutÃ© au panier',
        'cart_cleared': 'Panier vidÃ©',
        'cart_empty_error': 'Votre panier est vide',
        'telegram_opened_success': 'Chat Telegram ouvert!',
        'telegram_error': 'Erreur lors de l\'ouverture du chat Telegram',
        'data_cleared': 'Toutes les donnÃ©es ont Ã©tÃ© effacÃ©es',
        'data_clear_error': 'Erreur lors de l\'effacement des donnÃ©es',
        
        // Image Zoom
        'image_zoom': 'Image du Produit',
        'zoom_in': 'Zoomer',
        'zoom_out': 'DÃ©zoomer',
        'zoom_reset': 'RÃ©initialiser',
        'zoom_rotate': 'Tourner'
    }
};

// Clase para manejar las traducciones
class TranslationManager {
    constructor() {
        this.currentLanguage = this.getStoredLanguage() || 'es';
        this.translations = translations;
    }
    
    getStoredLanguage() {
        return localStorage.getItem('mp_language') || 'es';
    }
    
    setLanguage(language) {
        if (this.translations[language]) {
            this.currentLanguage = language;
            localStorage.setItem('mp_language', language);
            this.updateUI();
        }
    }
    
    t(key) {
        return this.translations[this.currentLanguage][key] || key;
    }
    
    updateUI() {
        // Actualizar todos los elementos con data-i18n
        document.querySelectorAll('[data-i18n]').forEach(element => {
            const key = element.getAttribute('data-i18n');
            const translation = this.t(key);
            
            if (element.tagName === 'INPUT' && element.type === 'text') {
                element.placeholder = translation;
            } else if (element.tagName === 'TEXTAREA') {
                element.placeholder = translation;
            } else {
                element.textContent = translation;
            }
        });
        
        // Actualizar tÃ­tulos de atributos
        document.querySelectorAll('[data-i18n-title]').forEach(element => {
            const key = element.getAttribute('data-i18n-title');
            element.title = this.t(key);
        });
    }
    
    getAvailableLanguages() {
        return Object.keys(this.translations).map(code => ({
            code,
            name: this.getLanguageName(code)
        }));
    }
    
    getLanguageName(code) {
        const names = {
            'es': 'EspaÃ±ol',
            'en': 'English',
            'fr': 'FranÃ§ais'
        };
        return names[code] || code;
    }
}

// Exportar para uso global
window.TranslationManager = TranslationManager;
window.translations = translations;
